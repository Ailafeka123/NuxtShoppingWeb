# Nuxt版購物網站
  這次預計壓縮至一個禮拜完成，目前處於規劃階段，內容比想像中複雜，需多規劃
  目前規劃詳細 但firebase的限制 還可能會進行刪減
  由於firebase的讀取考量 暫時排除優惠券功能 或是採用個人優惠卷與電家優惠的方式 減少firebase的查詢消耗
  後續想到處理方式(但目前可能只能靠前端去使用了，這樣關於資料的篩選就需要慎選的)
  基本 讀取商品 - 讀取優惠 - 對應
  1009 目前開始前端施工 否則思慮太多
  1010-1018 因家裡與面試耽誤 暫停開發
  1019 新增auth功能與測試
  1020 修正錯誤提示部分，目前針對Nuxt物件化的傳遞進行嘗試
  1022 auth忘記密碼功能完成、firestore的auth規則完成且會在登入、註冊時刷新與建立。
## 已知問題
  1. 使用CSP防止XSS攻擊、但又會阻擋自身功能
    使用nuxt-security修正完成 實際部署還須檢測與修正
  2. 前後端的分工
    原本規劃只由後端去控制所有接口，但是登入這些無法避免會使用到前端的SDK，其次是firebase-Admin的權限過大，為了避免一些意外的錯誤，放棄使用firebase-Admin，繼續使用firebaseSDK。

## 目前架構
- 前端
  - Nuxt製作
  - TypeScript為主
  - i18n 製作多語言系統

- 後端
  - Firebase資料庫
    - realtime
      - 目前上架產品
        - 種類
        - 賣家
        - 對應尺寸 數量

      - 使用者相關
        - 購物車內容
          - 產品編號 尺寸 數量 
        - 近期預覽(時間排序)
          - 產品id 

    - Auth
      - 純帳號登入

    - firestore
      - 每個帳號的資訊
        - ID:配合Auth的mainKey
        - 暱稱
        - 權限
          - 買家 賣家(有限觀看) 編輯者(全部權限)
        - 個人相關資訊
          - 地址
          - 付款方式
            - 現金
            - 信用卡資訊?(模擬而已)
        - 帳號創立時間
        - 購買資訊(查詢自己的訂單)
        - 優惠券(暫時移除)


      - 產品資訊(上架時將同步上傳至realtime)
        - 產品id:mainKey
        - 上架狀態 : 上架 準備中 編輯中
        - 上架人(賣家)
        - 名稱
        - 種類
        - 尺寸 數量 價格
        - 產品介紹


      - 活動資訊(優惠設定 暫時取消)
        - 活動ID:mainKey
        - 活動名稱
        - 活動的影響內容
          - 針對內容: 特定商品(id) 種類(種類) 賣家 優惠券
          - 目前想到解決辦法 查詢活動id - 對應賣家 - 底下商品種類
        - 活動時間
        - 活動內容
          - 買幾個 打幾折 優惠多少 之類的

      
      - 購買資訊
        - 訂單編號:mainKey
        - 購買人id:對應使用者id
        - 購買時間
        - 訂單內容
          - 賣家
            - 商品 尺寸 數量 價格 優惠價
          - 是否使用優惠券
        - 訂單狀態
          - 未確認 確認 送出 到底 取貨 完成 取消
            - 時間
        - 配送地點
  


      

## 預計會包含有(構思補足中)
- 首頁
  - 產品推薦
  - 熱銷產品
  - 限時則扣(這部分可能配合後端會做成固定時間出現)
  - 新品上架

- 搜尋頁面
  - 過濾與篩選功能
    - 價格
    - 上架時間
    - 評價
    - 銷售量
    - 顯示數量
  - 產品小卡
    - 圖片
    - 是否特價(直接一部分顯示在小圖上提示)
    - 評價
    - 銷售量
    - 價格/特價價格(如果是特價 則會出現 原價格劃掉 顯示特價價格 )
    - 快速購買(加入購物車 手機板沒有)
  - 產品快速分類(大致樣貌)
    - 水果 ... 7 
    - 家具 ... 3

- 產品頁面
  - 產品介紹
    - 產品圖片*N
    - 是否特價(特價才顯示)
    - 產品價格
    - 產品評價
    - 目前銷售量
    - 剩餘商品數量
    - 可選尺寸(不同規格)
    - 產品類型(分類)
    - 詳細介紹(預計以markDown架構)
  - 產品購買數量
  - 產品留言與評價
  - 其他相關商品推薦

- 會員資訊
  - ID(key)
  - 使用者暱稱
  - 個人資訊
    - 修改暱稱
    - 預設地址
    - 預設付款方式
  - 修改密碼(需二度密碼確認)
  - 近期看過商品(暫定限制記憶20項)
    - 商品小卡顯示
  - 購買紀錄(需對應每一筆資料的ID)
    - 對應配送紀錄
  - 仿商品送貨進度
    - 未完成的配送紀錄
  - 刪除帳號(需二度密碼確認)

- 配送記錄
  - 配送編號
  - 配送商品資訊
    - 數量 價格(折扣後)
  - 配送進度
  - 預計多久抵達  


- 購物車
  - 購買產品資訊
    - 產品小圖
    - 產品價格
    - 產品庫存
    - 購買數量
    - 該項價格
  - 合計價格

- 訪購物結算畫面
  - 使用優惠券
  - 運費
  - 預計天數
  - 配送地址
  - 付費方式與對應輸入
  - 共計價格 與 折扣了多少

- 購物完成畫面(確認回饋)
  - 配送資訊
    - 編號
    - 地址
    - 付費方式
  - 確認

- 後臺管理(管理者限定 可以看上方價購)

  - 商品管理
  - 會員管理()
  - 配送管理

  